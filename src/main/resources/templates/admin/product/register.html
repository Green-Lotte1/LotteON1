<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>롯데ON::관리자 페이지</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://kit.fontawesome.com/20962f3e4b.js" crossorigin="anonymous"></script>    
    <script th:src="@{/js/admin/gnb.js}"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
    <div id="admin-wrapper">
        <header>
            <div>
                <a th:href="@{/admin/index}" class="logo"><img th:src="@{/images/admin_logo.png}" alt="admin_logo"/></a>
                <p>
                    <span>홍길동님 반갑습니다.</span>
                    <a th:href="@{/}">HOME |</a>
                    <a th:href="@{/member/logout}">로그아웃 |</a>
                    <a th:href="@{/cs}">고객센터</a>
                </p>
            </div>
        </header>
        <script type="text/javascript">
            function changeSelect() {

             const selectValue = $('select[name=prodCate1]').val();

             console.log(selectValue);

     $.ajax({
         url: '/LotteON/admin/product/registerCate2?selectValue=' + selectValue,
         type: 'GET',
         dataType: 'json',
         success: function (data) {

             console.log("data" + data);

             const cate2Select = $('select[name=prodCate2]');


             cate2Select.empty();
             cate2Select.append($('<option>', {
                 value: 'cate0',
                 text: '2차 분류 선택'
             }));
             $.each(data, function (index, item) {
                 cate2Select.append($('<option>', {
                     value: item.cate2,
                     text: item.c2Name
                 }));
             });
         }
     });
 }

 $(function () {

     $('select[name=prodCate2]').change(function () {

         let cate1 = $('select[name=prodCate1]').val();
         let cate2 = $(this).val();


         let actionUrl = "/admin/product/register?prodCate1=" + cate1 + "&prodCate2=" + cate2;
         $('#formRegister').attr('action', actionUrl);


     });

     $('input[name=price]').focusout(function () {
         const price = $(this).val();
         const point = $('input[name=point]');

         point.val(price * 0.01);
     });

 });
        </script>
        <main>
            <aside>
                <!-- Global Navigation Bar -->
                <ul id="gnb">
                    <li>
                        <a th:href="@{/admin/config/info}"><i class="fa fa-cogs" aria-hidden="true"></i>환경설정</a>
                        <ol>
                            <li><a th:href="@{/admin/config/info}">기본환경설정</a></li>
                            <li><a th:href="@{/admin/config/banner}">배너관리</a></li>
                        </ol>
                    </li>
                    <li>
                        <a th:href="@{/admin/index}"><i class="fas fa-store" aria-hidden="true"></i>상점관리</a>
                        <ol>
                            <li><a th:href="@{/admin/index}">판매자현황</a></li>
                            <li><a th:href="@{/admin/product/list}">재고관리</a></li>
                        </ol>
                    </li>
                    <li>
                        <a th:href="@{/admin/index}"><i class="fa fa-users" aria-hidden="true"></i>회원관리</a>
                        <ol>
                            <li><a th:href="@{/admin/index}">회원현황</a></li>
                            <li><a th:href="@{/admin/index}">포인트관리</a></li>
                            <li><a th:href="@{/admin/index}">비회원관리</a></li>
                            <li><a th:href="@{/admin/index}">접속자집계</a></li>
                        </ol>
                    </li>
                    <li>
                        <a th:href="@{/admin/product/list}"><i class="fas fa-box-open" aria-hidden="true"></i>상품관리</a>
                        <ol>
                            <li><a th:href="@{/admin/product/list}">상품현황</a></li>
                            <li><a th:href="@{/admin/product/register}">상품등록</a></li>
                            <li><a th:href="@{/admin/product/list}">재고관리</a></li>
                        </ol>
                    </li>
                    <li>
                        <a th:href="@{/admin/index}"><i class="fa fa-credit-card" aria-hidden="true"></i>주문관리</a>
                        <ol>
                            <li><a th:href="@{/admin/index}">주문현황</a></li>
                            <li><a th:href="@{/admin/index}">매출현황</a></li>
                            <li><a th:href="@{/admin/index}">결제관리</a></li>
                            <li><a th:href="@{/admin/index}">배송관리</a></li>
                        </ol>
                    </li>
                    <li>
                        <a th:href="@{/admin/index}"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>게시판관리</a>
                        <ol>
                            <li><a th:href="@{/admin/index}">게시판현황</a></li>
                            <li><a th:href="@{/admin/index}">고객문의</a></li>
                        </ol>
                    </li>
                </ul>
            </aside>
            <section id="admin-product-register">
                <nav>
                    <h3>상품등록</h3>
                    <p>
                        HOME > 상품관리 > <strong>상품등록</strong>
                    </p>
                </nav>
                <!-- 상품등록 컨텐츠 시작 -->
                <article>
                    <form th:action="@{/admin/product/register}" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="seller" value="seller"/>
                        <!-- 상품분류 -->
                        <section>
                            <h4>상품분류</h4>
                            <p>
                                기본분류는 반드시 선택하셔야 합니다. 하나의 상품에 1개의 분류를 지정 합니다.
                            </p>
                            <table>
                                <tr>
                                    <td>1차 분류</td>
                                    <td>
                                        <select name="prodCate1" onchange="changeSelect()">
                                            <option value="0">1차 분류 선택</option>
                                            <th:block th:each="cate1 : ${setCate1}">
                                                <option th:value="${cate1.cate1}" th:text="${cate1.c1Name}"></option>
                                            </th:block>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2차 분류</td>
                                    <td>
                                        <select name="prodCate2">
                                            <option value="00">2차 분류 선택</option>
                                            <option value="10">남성의류</option>
                                            <option value="11">여성의류</option>
                                            <option value="12">잡화</option>
                                            <option value="13">뷰티</option>
                                            <option value="10">노트북/PC</option>
                                            <option value="11">가전</option>
                                            <option value="12">휴대폰</option>
                                            <option value="13">기타</option>
                                            <option value="10">신선식품</option>
                                            <option value="11">가공식품</option>
                                            <option value="12">건강식품</option>
                                            <option value="13">생필품</option>
                                            <option value="14">커피•음료</option>
                                            <option value="10">가구/DIY</option>
                                            <option value="11">침구•커튼</option>
                                            <option value="12">생활용품</option>
                                            <option value="13">사무용품</option>
                                            <option value="10">국내도서</option>
                                            <option value="11">해외도서</option>
                                            <option value="12">학습/교육</option>
                                            <option value="13">음반</option>
                                        </select>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <!-- 기본정보 -->
                        <section>
                            <h4>기본정보</h4>
                            <p>
                                기본정보는 반드시 입력해야 합니다.
                            </p>
                            <table>
                                <tr>
                                    <td>상품명</td>
                                    <td><input type="text" name="prodName"/></td>
                                </tr>
                                <tr>
                                    <td>기본설명</td>
                                    <td>
                                        <span>상품명 하단에 상품에 대한 추가적인 설명이 필요한 경우에 입력</span>
                                        <input type="text" name="descript"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>제조사</td>
                                    <td><input type="text" name="prodCompany"/></td>
                                </tr>
                                <tr>
                                    <td>판매가격</td>
                                    <td><input type="text" name="price"/>원</td>
                                </tr>
                                <tr>
                                    <td>할인율</td>
                                    <td>
                                        <span>0을 입력하면 할인율 없음</span>
                                        <input type="text" name="discount"/>원
                                    </td>
                                </tr>
                                <tr>
                                    <td>포인트</td>
                                    <td>
                                        <span>0을 입력하면 포인트 없음</span>
                                        <input type="text" name="point"/>점
                                    </td>
                                </tr>
                                <tr>
                                    <td>재고수량</td>
                                    <td><input type="text" name="stock"/>개</td>
                                </tr>
                                <tr>
                                    <td>판매상태</td>
                                    <td>
                                        <select type="text" name="sale">
                                            <option value="1">판매 중</option>
                                            <option value="0">판매중지</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>배송비</td>
                                    <td>
                                        <span>0을 입력하면 배송비 무료</span>
                                        <input type="text" name="delivery"/>원
                                    </td>
                                </tr>
                                <tr>
                                    <td>상품 썸네일</td>
                                    <td>
                                        <span>크기 190 x 190, 상품 목록에 출력될 이미지 입니다. </span>
                                        <input type="file" name="fileThumb1"/>

                                        <span>크기 230 x 230, 상품 메인에 출력될 이미지 입니다. </span>
                                        <input type="file" name="fileThumb2"/>

                                        <span>크기 456 x 456, 상품 상세에 출력될 이미지 입니다. </span>
                                        <input type="file" name="fileThumb3"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>상세 상품정보</td>
                                    <td>
                                        <span>크기 가로 940px 높이 제약없음, 크기 최대 1MB, 상세페이지 상품정보에 출력될 이미지 입니다.</span>
                                        <input type="file" name="fileDetail"/>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <!-- 상품정보 제공 고시 -->
                        <section>
                            <h4>상품정보 제공고시</h4>
                            <p>
                                [전자상거래에 관한 상품정보 제공에 관한 고시] 항목에 의거 등록해야 되는 정보입니다.
                            </p>
                            <table>
                                <tr>
                                    <td>상품상태</td>
                                    <td><input type="text" name="status" value="새상품"/></td>
                                </tr>
                                <tr>
                                    <td>부가세 면세여부</td>
                                    <td><input type="text" name="duty" value="과세상품"/></td>
                                </tr>
                                <tr>
                                    <td>영수증발행</td>
                                    <td><input type="text" name="receipt" value="발행가능 - 신용카드 전표, 온라인 현금영수증"/></td>
                                </tr>
                                <tr>
                                    <td>사업자구분</td>
                                    <td><input type="text" name="bizType" value="사업자 판매자"/></td>
                                </tr>
                                <tr>
                                    <td>원산지</td>
                                    <td><input type="text" name="origin" value="국내산"/></td>
                                </tr>
                            </table>
                        </section>
                        
                        <input type="submit" value="등록하기"/>
                    </form>
                </article>

                <p class="ico alert">
                    <strong>Warning!</strong>
                    전자상거래 등에서의 상품 등의 정보제공에 관한 고시에 따라 총 35개 상품군에 대해 상품 특성 등을 양식에 따라 입력할 수 있습니다.
                </p>
                <!-- 상품등록 컨텐츠 끝 -->
            </section>
        </main>
        <footer>
            <div>
                <p>Copyright ©lotteon.com All rights reserved. ADMINISTRATOR Version 5.4.1.2</p>
            </div>
        </footer>
    </div>    
</body>
</html>